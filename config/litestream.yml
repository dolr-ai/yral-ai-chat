# Litestream Configuration for SQLite Replication
# This file is used as a template inside the Docker container

dbs:
  - path: ${DATABASE_PATH}
    replicas:
      - type: s3
        force-path-style: true
        bucket: ${LITESTREAM_BUCKET}
        path: ${S3_PATH}
        endpoint: ${LITESTREAM_ENDPOINT}
        region: ${LITESTREAM_REGION}
        access-key-id: ${LITESTREAM_ACCESS_KEY_ID}
        secret-access-key: ${LITESTREAM_SECRET_ACCESS_KEY}
        # Sync settings - tuned to reduce lock contention
        sync-interval: 10s
        # Retention settings
        retention: 720h
        retention-check-interval: 1h
        # Snapshot settings
        snapshot-interval: 1h
