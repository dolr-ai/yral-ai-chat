# Rate limiting zones configuration
# This file should be included in the http context of nginx.conf
# For site-specific configs, these zones are defined here and referenced in server blocks

# Per-minute limit: 10000 requests per minute per IP (max safe value)
limit_req_zone $binary_remote_addr zone=per_minute:10m rate=10000r/m;
# Per-hour limit: 100000 requests per hour per IP (max safe value, converted to 1667r/m: 100000/60 = 1666.67)
limit_req_zone $binary_remote_addr zone=per_hour:10m rate=1667r/m;

